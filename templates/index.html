<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <title>Dashboard AI</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/script.js" defer></script>
</head>

<body>
    <h1>ðŸ“‹ Regras de AutomaÃ§Ã£o</h1>
    <ul id="rules_list">
        {% for rule in rules %}
        <li><b>{{rule.id}}</b>: {{rule.condition}}</li>
        {% endfor %}
    </ul>

    <h2>âž• Nova Regra</h2>
    <form id="rule_form">
        <label>ID: <input type="text" name="id" required></label><br>
        <label>CondiÃ§Ã£o: <input type="text" name="condition" required></label><br>
        <label>AÃ§Ã£o (json): <textarea name="action"
                required>{"type":"send_email","to":"alguem@example.com"}</textarea></label>
        <button type="submit">Guardar</button>
    </form>
    <h2>Adicionar nova regra</h2>
    <form method="post" action="/rules/add">
        <input name="id" placeholder="ID da regra" required />
        <input name="condition" placeholder="CondiÃ§Ã£o" required />
        <select name="type">
            <option value="send_email">Email</option>
            <option value="call_api">API</option>
            <option value="log">Log</option>
            <option value="notify">NotificaÃ§Ã£o</option>
        </select>
        <input name="to" placeholder="Para (email)" />
        <input name="url" placeholder="URL da API" />
        <input name="message" placeholder="Mensagem" />
        <input name="payload" placeholder="Payload (JSON opcional)" />
        <button type="submit">Adicionar Regra</button>
    </form>

    <h2>NotificaÃ§Ãµes</h2>
    <ul id="notificacoes"></ul>

    <div id="msg"></div>
</body>
</html>