<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <title>Dashboard AI</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/script.js" defer></script>
    <link rel="icon" href="/static/favicon.ico" type="image/x-icon" />
</head>

<body>
    <h1>ðŸ“‹ Regras de AutomaÃ§Ã£o</h1>
    <ul id="rules_list">
        {% for rule in rules %}
        <li><b>{{rule.id}}</b>: {{rule.condition}}</li>
        {% endfor %}
    </ul>

    <h2>âž• Adicionar nova regra</h2>
    <form method="post" action="/rules/add">
        <input name="id" placeholder="ID da regra" required />
        <input name="condition" placeholder="CondiÃ§Ã£o" required />
        <select name="type">
            <option value="send_email">Email</option>
            <option value="call_api">API</option>
            <option value="log">Log</option>
            <option value="notify">NotificaÃ§Ã£o</option>
        </select>
        <input name="to" placeholder="Para (email)" />
        <input name="url" placeholder="URL da API" />
        <input name="message" placeholder="Mensagem" />
        <input name="payload" placeholder="Payload (JSON opcional)" />
        <button type="submit">Adicionar Regra</button>
    </form>

    <h2>ðŸ§  Criar regra com AI</h2>
    <form id="form_ai">
        <input name="instrucao" id="instrucao_input" placeholder="Ex: Se estiver sol amanhÃ£, envia email para Maria" size="60" required />
        <button type="submit">Gerar Regra com AI</button>
    </form>

    <div id="msg"></div>

    <h2>ðŸ”” NotificaÃ§Ãµes</h2>
    <ul id="notificacoes"></ul>
</body>

</html>
